<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="http://github.com/qbit/node-pushover">pushover-notifications (v0.2.4)</a>
</h1>
<h4>Pushover API for node.js</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.pushover-notifications">module pushover-notifications</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pushover-notifications.pushover-notifications">
            function <span class="apidocSignatureSpan"></span>pushover-notifications
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pushover-notifications.pushover">
            function <span class="apidocSignatureSpan">pushover-notifications.</span>pushover
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">pushover-notifications.</span>pushover.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pushover-notifications.pushover">module pushover-notifications.pushover</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pushover-notifications.pushover.pushover">
            function <span class="apidocSignatureSpan">pushover-notifications.</span>pushover
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.pushover-notifications.pushover.prototype">module pushover-notifications.pushover.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pushover-notifications.pushover.prototype.errors">
            function <span class="apidocSignatureSpan">pushover-notifications.pushover.prototype.</span>errors
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pushover-notifications.pushover.prototype.send">
            function <span class="apidocSignatureSpan">pushover-notifications.pushover.prototype.</span>send
            <span class="apidocSignatureSpan">(obj, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.pushover-notifications.pushover.prototype.updateSounds">
            function <span class="apidocSignatureSpan">pushover-notifications.pushover.prototype.</span>updateSounds
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pushover-notifications" id="apidoc.module.pushover-notifications">module pushover-notifications</a></h1>


    <h2>
        <a href="#apidoc.element.pushover-notifications.pushover-notifications" id="apidoc.element.pushover-notifications.pushover-notifications">
        function <span class="apidocSignatureSpan"></span>pushover-notifications
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Pushover(opts) {
    var self = this;
    this.token = opts.token;
    this.user = opts.user;
    this.httpOptions = opts.httpOptions;
    this.sounds = {
	"pushover":"Pushover (default)",
	"bike":"Bike",
	"bugle":"Bugle",
	"cashregister":"Cash Register",
	"classical":"Classical",
	"cosmic":"Cosmic",
	"falling":"Falling",
	"gamelan":"Gamelan",
	"incoming":"Incoming",
	"intermission":"Intermission",
	"magic":"Magic",
	"mechanical":"Mechanical",
	"pianobar":"Piano Bar",
	"siren":"Siren",
	"spacealarm":"Space Alarm",
	"tugboat":"Tug Boat",
	"alien":"Alien Alarm (long)",
	"climb":"Climb (long)",
	"persistent":"Persistent (long)",
	"echo":"Pushover Echo (long)",
	"updown":"Up Down (long)",
	"none":"None (silent)"
    };

    if (opts.debug) {
	this.debug = opts.debug;
    }

    if (opts.onerror) {
	this.onerror = opts.onerror;
    }

    if (opts.update_sounds) {
	self.updateSounds();
	setInterval(function() {
	    self.updateSounds();
	}, 86400000);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pushover-notifications.pushover" id="apidoc.element.pushover-notifications.pushover">
        function <span class="apidocSignatureSpan">pushover-notifications.</span>pushover
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Pushover(opts) {
    var self = this;
    this.token = opts.token;
    this.user = opts.user;
    this.httpOptions = opts.httpOptions;
    this.sounds = {
	"pushover":"Pushover (default)",
	"bike":"Bike",
	"bugle":"Bugle",
	"cashregister":"Cash Register",
	"classical":"Classical",
	"cosmic":"Cosmic",
	"falling":"Falling",
	"gamelan":"Gamelan",
	"incoming":"Incoming",
	"intermission":"Intermission",
	"magic":"Magic",
	"mechanical":"Mechanical",
	"pianobar":"Piano Bar",
	"siren":"Siren",
	"spacealarm":"Space Alarm",
	"tugboat":"Tug Boat",
	"alien":"Alien Alarm (long)",
	"climb":"Climb (long)",
	"persistent":"Persistent (long)",
	"echo":"Pushover Echo (long)",
	"updown":"Up Down (long)",
	"none":"None (silent)"
    };

    if (opts.debug) {
	this.debug = opts.debug;
    }

    if (opts.onerror) {
	this.onerror = opts.onerror;
    }

    if (opts.update_sounds) {
	self.updateSounds();
	setInterval(function() {
	    self.updateSounds();
	}, 86400000);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pushover-notifications.pushover" id="apidoc.module.pushover-notifications.pushover">module pushover-notifications.pushover</a></h1>


    <h2>
        <a href="#apidoc.element.pushover-notifications.pushover.pushover" id="apidoc.element.pushover-notifications.pushover.pushover">
        function <span class="apidocSignatureSpan">pushover-notifications.</span>pushover
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Pushover(opts) {
    var self = this;
    this.token = opts.token;
    this.user = opts.user;
    this.httpOptions = opts.httpOptions;
    this.sounds = {
	"pushover":"Pushover (default)",
	"bike":"Bike",
	"bugle":"Bugle",
	"cashregister":"Cash Register",
	"classical":"Classical",
	"cosmic":"Cosmic",
	"falling":"Falling",
	"gamelan":"Gamelan",
	"incoming":"Incoming",
	"intermission":"Intermission",
	"magic":"Magic",
	"mechanical":"Mechanical",
	"pianobar":"Piano Bar",
	"siren":"Siren",
	"spacealarm":"Space Alarm",
	"tugboat":"Tug Boat",
	"alien":"Alien Alarm (long)",
	"climb":"Climb (long)",
	"persistent":"Persistent (long)",
	"echo":"Pushover Echo (long)",
	"updown":"Up Down (long)",
	"none":"None (silent)"
    };

    if (opts.debug) {
	this.debug = opts.debug;
    }

    if (opts.onerror) {
	this.onerror = opts.onerror;
    }

    if (opts.update_sounds) {
	self.updateSounds();
	setInterval(function() {
	    self.updateSounds();
	}, 86400000);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.pushover-notifications.pushover.prototype" id="apidoc.module.pushover-notifications.pushover.prototype">module pushover-notifications.pushover.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.pushover-notifications.pushover.prototype.errors" id="apidoc.element.pushover-notifications.pushover.prototype.errors">
        function <span class="apidocSignatureSpan">pushover-notifications.pushover.prototype.</span>errors
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">errors = function (d) {
    if (typeof d === 'string') {
	d = JSON.parse(d);
    }

    if (d.errors) {
	if (this.onerror) {
	    this.onerror.call(null, d.errors[0]);
	} else {
	    throw new Error(d.errors[0]);
	}
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pushover-notifications.pushover.prototype.send" id="apidoc.element.pushover-notifications.pushover.prototype.send">
        function <span class="apidocSignatureSpan">pushover-notifications.pushover.prototype.</span>send
        <span class="apidocSignatureSpan">(obj, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function (obj, fn) {
    var self = this;
    var o = url.parse(p_url);
    var proxy;
    o.method = "POST";

    obj = setDefaults(obj);

    var req_string = {
	token: self.token || obj.token,
	user: self.user || obj.user
    };

    var p;
    for (p in obj) {
	req_string[ p ] = obj[p];
    }

    req_string = qs.stringify(req_string);

    o.headers = {
	'Content-Length': req_string.length
    };

    var httpOpts = self.httpOptions || {};
    if (httpOpts) {
	Object.keys(httpOpts).forEach(function(key) {
	    if (key !== 'proxy') {
		o[key] = httpOpts[key];
	    }
	});
    }

    if (httpOpts.hasOwnProperty('proxy') &amp;&amp; httpOpts.proxy !== "") {
	proxy = url.parse(httpOpts.proxy);
	o.headers.Host = o.host;
	o.host = proxy.hostname;
	o.port = proxy.port;
	o.protocol = proxy.protocol;
    }

    var request;
    if (httpOpts.proxy &amp;&amp; httpOpts.proxy !== "") {
	request = http.request;
    } else {
	request = https.request;
    }

    req = request(o, function(res) {
	if (self.debug) {
	    console.log(res.statusCode);
	}
	var err;
	var data = '';
	res.on('end', function() {
	    self.errors(data);
	    if (fn) {
		fn.call(null, err, data);
	    }
	});

	res.on('data', function(chunk) {
	    data += chunk;
	});
    });

    req.on('error', function(err) {
	if (fn) {
	    fn.call(null, err);
	}
	// In the tests the "end" event did not get emitted if  "error" was emitted,
	// but to be sure that the callback is not get called twice, null the callback function
	fn = null;
    });

    if (self.debug) {
	console.log (req_string.replace(self.token, 'XXXXX').replace(self.user, 'XXXXX'));
    }
    req.write(req_string);
    req.end();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	message: 'omg node test',	// required
	title: "Well - this is fantastic",
	sound: 'magic',
	device: 'devicename',
	priority: 1
};

p.<span class="apidocCodeKeywordSpan">send</span>( msg, function( err, result ) {
	if ( err ) {
		throw err;
	}

	console.log( result );
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.pushover-notifications.pushover.prototype.updateSounds" id="apidoc.element.pushover-notifications.pushover.prototype.updateSounds">
        function <span class="apidocSignatureSpan">pushover-notifications.pushover.prototype.</span>updateSounds
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateSounds = function () {
    var self = this, data = '';
    var surl = 'https://api.pushover.net/1/sounds.json?token=' + self.token;
    var req = https.request(url.parse(surl) , function(res) {
	res.on('end', function() {
	    var j = JSON.parse(data);
	    self.errors(data);
	    self.sounds = j.sounds;
	});

	res.on('data', function(chunk) {
	    data += chunk;
	});

    });

    req.on('error', function(e) {
	err = e;
    });

    req.write('');
    req.end();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>